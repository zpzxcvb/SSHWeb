<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>首页</title>
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/js/lib/layui/css/layui.css">
	
	<script type="text/javascript" src="/js/lib/jquery-1.9.1.min.js"></script>
	<script src="/js/lib/layui/layui.js"></script>
</head>
<body>
	<div class="layui-main">
		<form class="layui-form" action="">
			<div class="layui-form-item">
				<label class="layui-form-label">文件</label>
				<div class="layui-input-block">
					<a id="uploadBtn" class="layui-btn"><i class="layui-icon layui-icon-upload"></i> 上传</a>
					<a id="textBtn" class="layui-btn">文本</a>
					<a id="testBtn" class="layui-btn">test</a>
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">文字</label>
				<div class="layui-input-block">
					<textarea class="layui-textarea" id="LAY_demo1"></textarea>
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">选择</label>
				<div class="layui-input-block">
					<select>
						<option>北京</option>
						<option>上海</option>
						<option>西安</option>
						<option>广州</option>
						<option>深圳</option>
					</select>
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">开关</label>
				<div class="layui-input-block">
					<input type="checkbox" name="switch" lay-skin="switch">
				</div>
			</div>
			<input id="createDate" class="layui-input" type="text"/>
		</form>
	</div>
	<script>
		layui.use([ 'laydate', 'form', 'layedit', 'upload' ], function() {
			var layedit = layui.layedit;
			var laydate = layui.laydate;
			var upload = layui.upload;
			var uploadInst = upload.render({
			    elem: '#uploadBtn' //绑定元素
			    ,url: '/file/upLoad' //上传接口
			    ,acceptMime:'image/*'
			    ,done: function(res, index, upload){
			      console.log(res);
			    }
			    ,error: function(){
			      //请求异常回调
			    }
			  });
			//构建一个默认的编辑器
			var index = layedit.build('LAY_demo1',{
				height: 180,
				uploadImage: {
				    url: '/file/upLoad'
				}
			});
			
			laydate.render({
				elem : '#createDate',
				type : 'datetime',
				format : 'yyyy-MM-dd HH:mm:ss',
				value : new Date(),
				max : 7,
				calendar : true,
				done : function(value, date, endDate) {
					console.log(value); //得到日期生成的值，如：2017-08-18
					console.log(date);
				}
			});
			$('#textBtn').click(function(){
				alert(layedit.getContent(index));
			  });
			$('#testBtn').click(function(){
				alert("111");
			  });
		});
	</script>
</body>
</html>