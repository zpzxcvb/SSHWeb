<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
	<title> 扫描项目源码 </title>
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/js/lib/layui/css/layui.css">
	<link rel="stylesheet" href="/js/lib/zTree/css/zTreeStyle/zTreeStyle.css">
	
	<script type="text/javascript" src="/js/lib/layui/layui.js"></script>
	<script type="text/javascript" src="/js/lib/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="/js/lib/zTree/jquery.ztree.core.js"></script>
	<script type="text/javascript" src="/js/myjs.js"></script>
</head>
<body style="padding: 15px">
	<div class="layui-row layui-col-space10">
		<div class="layui-col-md3">
			<div class="layui-card">
				<div class="layui-card-body">
					<ul id="tree" class="ztree"></ul>
				</div>
			</div>
		</div>
		<div class="layui-col-md9">
			<div class="layui-card">
				<div class="layui-card-body">
					<pre class="layui-code" lay-title="" lay-height="" lay-encode="true" lay-skin="">
					</pre>
				</div>
			</div>
		</div>
	</div>
	<script>
		layui.use(['code'], function() { //加载code模块
			initTree({
				id:"tree",
				async:true,
				url:"/file/scanProjects"
			});
			layui.code({about: false}); //引用code方法
		});
		function zTreeClick(event, treeId, treeNode){
			 if(!treeNode.isParent){
				$.ajax({
					url:"/file/readFile",
					data:{path:treeNode.path},
					success:function(result){
						var str="";
						$("ol").empty();
						$.each(result,function(index,value){
							$("ol").append("<li><span>"+value+"</span></li>");
						});
						$("ol").find("li:even").addClass("alt");
					}
				})
			 }
		};
	</script>
</body>
</html>